@inherits LayoutComponentBase
@inject IsisTheme CustomTheme
@inject NavigationManager Navigation

<MudThemeProvider Theme="CustomTheme"/>
<MudPopoverProvider />
<MudDialogProvider /> 
<MudSnackbarProvider />

<MudLayout>
    <MudDrawer Open="true" Elevation="2" ClipMode="DrawerClipMode.Never" Variant="@DrawerVariant.Persistent" Width="280px">
        <MudDrawerHeader Class="d-flex flex-column justify-center py-10">
            <MudText Typo="Typo.button" Color="Color.Primary" Class="mt-6" Style="letter-spacing: 2px; font-size: 1.1rem;">
                DASHBOARD
            </MudText>
            <MudText Typo="Typo.body1" Color="Color.Secondary">
                Ol√° Isis, @GetGreeting()
            </MudText>
        </MudDrawerHeader>
        
        <MudNavMenu>
            <MudNavLink Icon="@Icons.Material.Filled.People" 
                        Href="/admin/pacients" 
                        Match="NavLinkMatch.All">
                Pacientes
            </MudNavLink>
            <MudNavLink Icon="@Icons.Material.Filled.Leaderboard" 
                        Href="/admin/leads" 
                        Match="NavLinkMatch.All">
                Leads
            </MudNavLink>
            <MudNavLink Icon="@Icons.Material.Filled.AttachMoney" 
                        Href="/admin/financeiro" 
                        Match="NavLinkMatch.All">
                Financeiro
            </MudNavLink>
            <MudDivider Class="my-4" />
            <MudNavLink Icon="@Icons.Material.Filled.AllOut" 
                        Href="/logout" 
                        Match="NavLinkMatch.All">
                Sair
            </MudNavLink>
        </MudNavMenu>
    </MudDrawer>
    
    <MudMainContent Class="pa-8">
        @Body
    </MudMainContent>
</MudLayout>

@code {
    private string GetGreeting()
    {
        var hour = DateTime.Now.Hour;
        if (hour >= 5 && hour < 12) return "bom dia! ‚òÄÔ∏è";
        if (hour >= 12 && hour < 18) return "boa tarde! ‚òï";
        return "boa noite! üåô";
    }
}